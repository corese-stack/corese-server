<div>
	<div class="panel" id="selectViewerPanel" style="overflow:auto;resize:both;">
		<div class="panel-heading" align="center"><strong>Viewer for select results</strong></div>
		<div class="panel-body" align="left" >
			<ul class="nav nav-tabs">
				<li class="active"><a data-toggle="tab" href="#viewerSelector">Graph</a></li>
			</ul>
			<div class="tab-content">
				<div id="viewerSelector" class="tab-pane fade in active">
                    <select id="selector">
						<option value="barchart">barchart</option>
						<option value="piechart">piechart</option>
					</select>
					<div id="viewerConfiguration"></div>
                    <button id="addViewer" onclick="SelectDrawer.addViewer()">Add Viewer</button>
				</div>
			</div>
			<div id="result"></div>
		</div>
	</div>
</div>

<script>
	let sparql="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>"+
			"PREFIX yago: <http://dbpedia.org/class/yago/>"+
			"PREFIX dbpedia-owl: <http://dbpedia.org/ontology/>"+
			""+
			"    SELECT ?pref ?area"+
			"        WHERE {"+
			"        ?s a yago:WikicatPrefecturesOfJapan ;"+
			"rdfs:label ?pref ;"+
			"dbpedia-owl:areaTotal ?area_total ."+
			"    FILTER (lang(?pref) = 'en')"+
			"    BIND ((?area_total / 1000 / 1000) AS ?area)"+
			"}"+
			"ORDER BY DESC(?area)";
	let endpoint = "http://dbpedia.org/sparql";
	d3sparql.query(endpoint, sparql, render);
	function render(json) {
		console.log(json);
		// fs.writeFile('/tmp/data.json', json, 'utf8', undefined);
	}
	var data%1$s =
			{
				"head": {
					"link": [],
					"vars": [
						"pref",
						"area"
					]
				},
				"results": {
					"distinct": false,
					"ordered": true,
					"bindings": [
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Hokkaido"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "83453.6"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Iwate Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "15278.4"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Fukushima Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "13782.8"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Nagano Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "13585.2"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Niigata Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "12582.5"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Akita Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "11612.2"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Gifu Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "10621.2"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Aomori Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "9606.26"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Yamagata Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "9323.34"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Kagoshima Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "9132.42"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Hiroshima Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "8476.95"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Hyōgo Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "8396.13"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Shizuoka Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "7779.63"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Miyazaki Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "7735.99"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Kumamoto Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "7404.14"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Miyagi Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "7285.16"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Okayama Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "7113.21"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Kōchi Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "7104.87"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Shimane Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "6707.95"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Tochigi Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "6408.28"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Gunma Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "6362.33"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Ōita Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "6338.82"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Yamaguchi Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "6110.94"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Ibaraki Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "6095.58"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Mie Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "5777.22"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Ehime Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "5676.44"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Chiba Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "5156.15"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Aichi Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "5153.81"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Fukuoka Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "4971.01"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Wakayama Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "4725.67"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Kyoto Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "4613.26"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Yamanashi Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "4465.38"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Toyama Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "4247.22"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Fukui Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "4188.99"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Ishikawa Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "4185.22"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Tokushima Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "4144.95"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Nagasaki Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "4105.47"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Shiga Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "4017.38"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Saitama Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "3798.08"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Nara Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "3691.09"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Tottori Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "3507.05"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Saga Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "2439.58"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Kanagawa Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "2416.04"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Okinawa Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "2271.3"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Tokyo"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "2187.66"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Osaka Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "1899.28"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Kagawa Prefecture"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "1861.7"
							}
						},
						{
							"pref": {
								"type": "literal",
								"xml:lang": "en",
								"value": "Onjuku"
							},
							"area": {
								"type": "typed-literal",
								"datatype": "http://www.w3.org/2001/XMLSchema#double",
								"value": "24.86"
							}
						}
					]
				}
			}

	;
</script>

<script type="module">
	import {SelectDrawer} from "/js/CoreseD3.js";
	SelectDrawer.manage(data%1$s, "selectViewerPanel");
</script>

<script nomodule>
	SelectDrawer.manage(data%1$s, "selectViewerPanel");
</script>

